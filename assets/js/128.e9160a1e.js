(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{665:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"husky"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#husky","aria-hidden":"true"}},[t._v("#")]),t._v(" Husky")]),t._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#git-hooks"}},[t._v("git hooks")])]),a("li",[a("a",{attrs:{href:"#husky"}},[t._v("Husky")])]),a("li",[a("a",{attrs:{href:"#husky-ä¸-lint-staged-é…åˆä½¿ç”¨"}},[t._v("Husky ä¸ lint-staged é…åˆä½¿ç”¨")])])])]),a("p"),t._v(" "),a("blockquote",[a("p",[t._v("Git hooks made easy"),a("br"),t._v("Husky can prevent bad git commit, git push and more ğŸ¶ woof! ---"),a("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("Husky github"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("Husky æ’ä»¶çš„ç›®çš„æ˜¯è®© git hooks æ“ä½œæ›´ç®€å•ï¼Œèƒ½å¤Ÿå¸®ä½ é˜»æŒ¡ä½ä¸å¥½çš„ä»£ç æäº¤å’Œæ¨é€ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("è¯•æƒ³å¦‚æœå°†ä»£ç å·²ç» push åˆ°è¿œç¨‹åï¼Œå†è¿›è¡Œæ‰«æå‘ç°å¤šäº†ä¸€ä¸ªåˆ†å·ç„¶åè¢«æ‰“å›ä¿®æ”¹åæ‰èƒ½å‘å¸ƒï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å¾ˆå´©æºƒï¼Œæœ€å¥½çš„æ–¹å¼è‡ªç„¶æ˜¯ç¡®ä¿æœ¬åœ°çš„ä»£ç å·²ç»é€šè¿‡æ£€æŸ¥æ‰èƒ½ push åˆ°è¿œç¨‹ï¼Œè¿™æ ·æ‰èƒ½ä»ä¸€å®šç¨‹åº¦ä¸Šç¡®ä¿åº”ç”¨çš„çº¿ä¸Šè´¨é‡ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿé¿å… lint çš„åé¦ˆæµç¨‹è¿‡é•¿çš„é—®é¢˜ã€‚"),a("br"),t._v("é‚£ä¹ˆä»€ä¹ˆæ—¶å€™å¼€å§‹è¿›è¡Œæ‰«ææ£€æŸ¥å‘¢ï¼Ÿè¿™ä¸ªæ—¶æœºè‡ªç„¶è€Œç„¶æ˜¯æœ¬åœ°è¿›è¡Œ git commit çš„æ—¶å€™ï¼Œå¦‚æœèƒ½åœ¨æœ¬åœ°æ‰§è¡Œ git commit æ“ä½œæ—¶èƒ½å¤Ÿè§¦å‘å¯¹ä»£ç æ£€æŸ¥å°±æ˜¯æœ€å¥½çš„ä¸€ç§æ–¹å¼ã€‚è¿™é‡Œå°±éœ€è¦ä½¿ç”¨çš„ git hookã€‚")])]),t._v(" "),a("h2",{attrs:{id:"git-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" git hooks")]),t._v(" "),a("p",[t._v("git çš„ hook å¯ä»¥ç†è§£æˆå½“æ‰§è¡Œå¦‚ git addã€git commit ç­‰ git æ“ä½œæ—¶çš„å›è°ƒï¼Œé€šè¿‡åœ¨ git hook ä¸åŒé’©å­é‡Œç¼–å†™ä¸€äº›å‘½ä»¤è„šæœ¬ï¼Œå°±å¯ä»¥åœ¨ git æ“ä½œæ—¶è§¦å‘ä»£ç ç›¸åº”è„šæœ¬æ‰§è¡Œã€‚")]),t._v(" "),a("p",[t._v("å¯ä»¥æŸ¥çœ‹ .git æ–‡ä»¶ä¸‹çš„ hooks ç›®å½•ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ git ç›¸å…³æ“ä½œçš„ä¸€äº›è„šæœ¬ä¾‹å­ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸€èˆ¬.git ä¸ºéšè—æ–‡ä»¶ï¼Œå¯ä»¥æŠŠé¡¹ç›®æ‹–å…¥ IDE ä¸­æŸ¥çœ‹, .git æ–‡ä»¶é‡Œçš„å†…å®¹ä¸€èˆ¬ä¸å…è®¸æ‰‹åŠ¨æ›´æ”¹çš„ã€‚ä¹Ÿå¯ä»¥åœ¨æ–‡ä»¶å¤¹ä¸­å‹¾é€‰æ˜¾ç¤ºéšè—æ–‡ä»¶æŸ¥çœ‹åˆ°ã€‚")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("cd"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" hooks"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nls "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¯ä»¥çœ‹åˆ° pre-commit / pre-push ç­‰è„šæœ¬æ–‡ä»¶")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("-rwxr-xr-x 1 40389 197609  478 10æœˆ 13  2019 applypatch-msg.sample*\n-rwxr-xr-x 1 40389 197609  896 10æœˆ 13  2019 commit-msg.sample*\n-rwxr-xr-x 1 40389 197609 3327 10æœˆ 13  2019 fsmonitor-watchman.sample*\n-rwxr-xr-x 1 40389 197609  189 10æœˆ 13  2019 post-update.sample*\n-rwxr-xr-x 1 40389 197609  424 10æœˆ 13  2019 pre-applypatch.sample*\n-rwxr-xr-x 1 40389 197609 1638 10æœˆ 13  2019 pre-commit.sample*\n-rwxr-xr-x 1 40389 197609 1492 10æœˆ 13  2019 prepare-commit-msg.sample*\n-rwxr-xr-x 1 40389 197609 1348 10æœˆ 13  2019 pre-push.sample*\n-rwxr-xr-x 1 40389 197609 4898 10æœˆ 13  2019 pre-rebase.sample*\n-rwxr-xr-x 1 40389 197609  544 10æœˆ 13  2019 pre-receive.sample*\n-rwxr-xr-x 1 40389 197609 3610 10æœˆ 13  2019 update.sample*\n")])])]),a("p",[t._v("ä¸Šå›¾ä¸ºå„ä¸ªé’©å­çš„æ¡ˆä¾‹è„šæœ¬ï¼Œå¯ä»¥æŠŠ sample å»æ‰ï¼Œç›´æ¥ç¼–å†™ shell è„šæœ¬æ¥æ‰§è¡Œã€‚ä½†å®é™…é¡¹ç›®ä¸­å¯ä»¥ä½¿ç”¨æ’ä»¶æ¥ä½¿é’©å­ç”Ÿæ•ˆã€‚å¸¸ç”¨çš„æ’ä»¶åŒ…æ‹¬ "),a("code",[t._v("Husky")]),t._v(" å’Œ "),a("code",[t._v("pre-commit")]),t._v("ï¼Œè¿™é‡Œä»‹ç» "),a("code",[t._v("Husky")]),t._v(" çš„ä½¿ç”¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"husky-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#husky-2","aria-hidden":"true"}},[t._v("#")]),t._v(" Husky")]),t._v(" "),a("ol",[a("li",[t._v("å®‰è£…")])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" husky --save-dev\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" husky --dev\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("åœ¨ package.json ä¸­é…ç½®")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npm test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// hooks çš„ key å¯¹åº”ç›¸åº”çš„ git é’©å­ï¼Œå€¼ä¸º script å¯¹åº”çš„å‘½ä»¤ï¼Œæˆ–å…¶å®ƒå­—æ®µé¡¹é…ç½®")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pre-push"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"npm test"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"..."')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"..."')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¹‹åï¼Œå¯¹é¡¹ç›®æ‰§è¡Œ "),a("code",[t._v("git commit -m 'something'")]),t._v("å°±ä¼šè§¦å‘å¯¹åº”çš„å‘½åæ‰§è¡Œã€‚")]),t._v(" "),a("h2",{attrs:{id:"husky-ä¸-lint-staged-é…åˆä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#husky-ä¸-lint-staged-é…åˆä½¿ç”¨","aria-hidden":"true"}},[t._v("#")]),t._v(" Husky ä¸ lint-staged é…åˆä½¿ç”¨")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å®‰è£…")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" lint-staged husky --save-dev\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"husky"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hooks"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pre-commit"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// åœ¨ä»£ç commitå‰æ‰§è¡Œå°†åŠ å…¥åˆ°stageæš‚å­˜åŒºçš„æ–‡ä»¶è¿›è¡Œæ£€æŸ¥ï¼ŒæŒ‰ç…§ä¸‹é¢"lint-staged"ä¸­çš„è§„åˆ™è¿›è¡Œæ£€æŸ¥')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹stagedçš„æ–‡ä»¶è¿›è¡Œlintï¼Œé¿å…å¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œlintä»£ç åºå¤§ä¸”ç¼“æ…¢")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"linters"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŒ¹é….jsæ–‡ä»¶ä¸€ä¸‹å‘½ä»¤")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œeslintè¿›è¡Œæ‰«æè¿›è¡Œfix")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‰§è¡Œprettierè„šæœ¬,å¯¹ä»£ç é•œåƒæ ¼å¼åŒ–")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸Šè¿°ä¸¤é¡¹ä»»åŠ¡å®Œæˆåå¯¹ä»£ç é‡æ–°addã€‚")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.vue"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.scss"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --syntax=scss --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ignore"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dist/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/node_modules/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/static/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/public/"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);