(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{333:function(a,t,e){a.exports=e.p+"assets/img/function-as-object.791b1a66.jpg"},834:function(a,t,e){"use strict";e.r(t);var r=e(0),v=Object(r.a)({},(function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[r("h1",{attrs:{id:"函数是特殊的对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#函数是特殊的对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 函数是特殊的对象")]),a._v(" "),r("p"),r("div",{staticClass:"table-of-contents"},[r("ul",[r("li",[r("a",{attrs:{href:"#函数是什么"}},[a._v("函数是什么")]),r("ul",[r("li",[r("a",{attrs:{href:"#name属性"}},[a._v("name属性")])]),r("li",[r("a",{attrs:{href:"#code属性"}},[a._v("code属性")])])])]),r("li",[r("a",{attrs:{href:"#函数是第一类对象"}},[a._v("函数是第一类对象")]),r("ul",[r("li",[r("a",{attrs:{href:"#name属性"}},[a._v("name属性")])]),r("li",[r("a",{attrs:{href:"#length属性"}},[a._v("length属性")])]),r("li",[r("a",{attrs:{href:"#call"}},[a._v("call()")])]),r("li",[r("a",{attrs:{href:"#apply"}},[a._v("apply()")])]),r("li",[r("a",{attrs:{href:"#bind"}},[a._v("bind()")])])])]),r("li",[r("a",{attrs:{href:"#总结"}},[a._v("总结")])]),r("li",[r("a",{attrs:{href:"#参考资料"}},[a._v("参考资料")])])])]),r("p"),a._v(" "),r("h2",{attrs:{id:"函数是什么"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#函数是什么","aria-hidden":"true"}},[a._v("#")]),a._v(" 函数是什么")]),a._v(" "),r("p",[a._v("在ES规范定义这门语言时描述过：")]),a._v(" "),r("blockquote",[r("p",[a._v("JavaScript 标准对基于对象的定义：“语言和宿主的基础设施由对象来提供，并且 JavaScript 程序即是一系列互相通讯的对象集合”。")])]),a._v(" "),r("p",[a._v("我们常说“JS世界一切皆对象”，所以本质上，函数也一种特殊的对象。")]),a._v(" "),r("p",[a._v("我们知道对象是一种键值对(key-value)的数据结构，函数作为一类特殊的对象，特殊的地方在于函数可以被“调用”。这种实现的原理在于语言为函数对象添加了两个隐藏属性，分别"),r("code",[a._v("[[name]]")]),a._v("和"),r("code",[a._v("[[code]]")]),a._v("属性。")]),a._v(" "),r("p",[r("img",{attrs:{src:e(333),alt:"function-as-object.jpg"}})]),a._v(" "),r("h3",{attrs:{id:"name属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#name属性","aria-hidden":"true"}},[a._v("#")]),a._v(" name属性")]),a._v(" "),r("p",[a._v("隐藏的"),r("code",[a._v("[[ame]]")]),a._v("属性的值就是函数的名称，如果函数是一个匿名函数，则name属性值就是"),r("code",[a._v("anonymous")]),a._v("，表示该函数对象没有被设置名称。")]),a._v(" "),r("p",[a._v("虽然在语言规范中"),r("code",[a._v("name")]),a._v("属于隐藏属性，但各浏览器在JS引擎实现时，函数对象都对外开放了"),r("code",[a._v("name")]),a._v("属性，使用"),r("code",[a._v("fn.name")]),a._v("可以获取")]),a._v(" "),r("h3",{attrs:{id:"code属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#code属性","aria-hidden":"true"}},[a._v("#")]),a._v(" code属性")]),a._v(" "),r("p",[r("code",[a._v("code")]),a._v("属性，其值表示函数代码，以字符串的形式存储在内存中。")]),a._v(" "),r("p",[a._v("当执行到一个函数语句时，JS引擎便会从函数对象中取出code属性值，也就是函数代码，然后引擎便会解释执行这段函数代码。")]),a._v(" "),r("h2",{attrs:{id:"函数是第一类对象"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#函数是第一类对象","aria-hidden":"true"}},[a._v("#")]),a._v(" 函数是第一类对象")]),a._v(" "),r("p",[a._v("在JS世界中，函数是第一类对象，也常将函数称为“一等公民”，函数在JS中的使用非常灵活，所以JS通过函数实现了很多特性。")]),a._v(" "),r("blockquote",[r("p",[a._v("JS中的函数在V8中被编译成C++对象JSFunction对象，而JSFunction对象继承于JSObject对象。C++ 对象是 C++ 世界中当之无愧的一等公民，所以JavaScript 函数当然也是一等公民。")])]),a._v(" "),r("ul",[r("li",[a._v("可以像值一样用于赋值、入参、当作返回值等操作")]),a._v(" "),r("li",[a._v("声明提升中函数优先：函数声明优先，值或对象声明忽略")]),a._v(" "),r("li",[a._v("函数也作为对象，具有动态创建和分配属性")])]),a._v(" "),r("h3",{attrs:{id:"name属性-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#name属性-2","aria-hidden":"true"}},[a._v("#")]),a._v(" name属性")]),a._v(" "),r("h3",{attrs:{id:"length属性"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#length属性","aria-hidden":"true"}},[a._v("#")]),a._v(" length属性")]),a._v(" "),r("h3",{attrs:{id:"call"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#call","aria-hidden":"true"}},[a._v("#")]),a._v(" "),r("code",[a._v("call()")])]),a._v(" "),r("h3",{attrs:{id:"apply"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#apply","aria-hidden":"true"}},[a._v("#")]),a._v(" "),r("code",[a._v("apply()")])]),a._v(" "),r("h3",{attrs:{id:"bind"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bind","aria-hidden":"true"}},[a._v("#")]),a._v(" "),r("code",[a._v("bind()")])]),a._v(" "),r("h2",{attrs:{id:"总结"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[a._v("#")]),a._v(" 总结")]),a._v(" "),r("p",[a._v("ES语言中，理解一个函数可以有三个角度：")]),a._v(" "),r("ul",[r("li",[a._v("函数作为对象，有自己的属性，比如"),r("code",[a._v("name / length / call() / apply() / bind()")]),a._v("等内置属性，也可以自定义属性。")]),a._v(" "),r("li",[a._v("函数的特殊之处在于可以“被调用”，所以有函数运行时的相关概念，如“执行上下文、作用域、作用域链、闭包”等。")]),a._v(" "),r("li",[a._v("函数是一等公民，函数可以作为值一样传递、赋值、返回等行为，形成高阶函数应用。")])]),a._v(" "),r("h2",{attrs:{id:"参考资料"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考资料","aria-hidden":"true"}},[a._v("#")]),a._v(" 参考资料")]),a._v(" "),r("p",[r("a",{attrs:{href:"https://time.geekbang.org/column/article/212123",target:"_blank",rel:"noopener noreferrer"}},[a._v("极客时间 图解 Google V8  函数即对象"),r("OutboundLink")],1),a._v(" "),r("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/101132637",target:"_blank",rel:"noopener noreferrer"}},[a._v("从 V8 源码理解 Javascript 函数是一等公民"),r("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=v.exports}}]);