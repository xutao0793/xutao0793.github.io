(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{290:function(t,s,a){t.exports=a.p+"assets/img/prettier_ast.2a4d1813.jpg"},669:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"prettier"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prettier","aria-hidden":"true"}},[t._v("#")]),t._v(" Prettier")]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#prettier-是什么"}},[t._v("Prettier 是什么")])]),n("li",[n("a",{attrs:{href:"#prettier-的哲学和意义"}},[t._v("Prettier 的哲学和意义")])]),n("li",[n("a",{attrs:{href:"#prettier-的原理"}},[t._v("Prettier 的原理")])]),n("li",[n("a",{attrs:{href:"#prettier-怎么用"}},[t._v("Prettier 怎么用")]),n("ul",[n("li",[n("a",{attrs:{href:"#安装"}},[t._v("安装")])]),n("li",[n("a",{attrs:{href:"#命令行操作"}},[t._v("命令行操作")])]),n("li",[n("a",{attrs:{href:"#配置文件"}},[t._v("配置文件")])]),n("li",[n("a",{attrs:{href:"#配置项"}},[t._v("配置项")])]),n("li",[n("a",{attrs:{href:"#排除文件"}},[t._v("排除文件")])]),n("li",[n("a",{attrs:{href:"#行内注释忽略语法"}},[t._v("行内注释忽略语法")])])])]),n("li",[n("a",{attrs:{href:"#与-ide-集成"}},[t._v("与 IDE 集成")])]),n("li",[n("a",{attrs:{href:"#与-linter-工具集成"}},[t._v("与 Linter 工具集成")])]),n("li",[n("a",{attrs:{href:"#与-git-集成"}},[t._v("与 Git 集成")])]),n("li",[n("a",{attrs:{href:"#将-prettier-和-eslint-都与-git-集成"}},[t._v("将 Prettier 和 ESLint 都与 Git 集成")])]),n("li",[n("a",{attrs:{href:"#参考链接"}},[t._v("参考链接")])])])]),n("p"),t._v(" "),n("h2",{attrs:{id:"prettier-是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prettier-是什么","aria-hidden":"true"}},[t._v("#")]),t._v(" Prettier 是什么")]),t._v(" "),n("blockquote",[n("p",[t._v("Prettier is an opinionated code formatter --"),n("a",{attrs:{href:"https://prettier.io/docs/en/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),n("OutboundLink")],1),t._v("原文")])]),t._v(" "),n("p",[t._v("Prettier 是一个强制性的代码格式化程序。Prettier 会去掉你代码里的所有样式风格，然后用 Prettier 默认提供的统一的固定代码格式重新输出。")]),t._v(" "),n("h2",{attrs:{id:"prettier-的哲学和意义"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prettier-的哲学和意义","aria-hidden":"true"}},[t._v("#")]),t._v(" Prettier 的哲学和意义")]),t._v(" "),n("p",[t._v("Prettier is an opinionated code formatter 。 Prettier 是一个 Opinionated 的代码格式化工具。所以要掌握 Prettier 的精髓就是要理解这个单词 "),n("code",[t._v("Opinionated")]),t._v("。")]),t._v(" "),n("p",[n("code",[t._v("Opinionated")]),t._v("在这里可以译为强制性，你要用我，就要遵守我的规定。停止围绕代码风格的无休止的争论，统一按我规定的执行。")]),t._v(" "),n("blockquote",[n("p",[t._v("关于代码风格的讨论，往往结果就是起于讨论，也止于讨论，虎头蛇尾有始无终。Prettier 也郑重提出：大家不要吵！用这种风格还是那种风格是半斤八两的关系，但是最后用没用上却是 0 和 1 的关系。咱们先提高代码的可读性和可维护性再说，具体什么风格我给你们定。大家都遵循 Prettier 给出的方案就好了，保证一切顺利进行下去。这就是 Prettier 的 opinionated！ ---"),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/81764012",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier 看这一篇就行了"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("这即是 Prettier 的设计初衷和原则，也是它的意义所在：")]),t._v(" "),n("ul",[n("li",[t._v("停止浪费时间来讨论代码风格")]),t._v(" "),n("li",[t._v("纯粹写代码，不要花时间在格式化上")]),t._v(" "),n("li",[t._v("配置最小化，让它更容易实施，而且格式化速度非常快")])]),t._v(" "),n("h2",{attrs:{id:"prettier-的原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prettier-的原理","aria-hidden":"true"}},[t._v("#")]),t._v(" Prettier 的原理")]),t._v(" "),n("p",[t._v("首先保证你的代码符合语言的语法规范，然后 Prettier 先把你的代码转换成一种中间状态 AST 语法树(Abstract Syntax Tree)，最后 Prettier 在这个 AST 的基础上重新按照自己默认制定的风格输出代码。")]),t._v(" "),n("p",[t._v("这里可以用 Prettier "),n("a",{attrs:{href:"https://prettier.io/playground/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网"),n("OutboundLink")],1),t._v(" 提供的 Playground 更直观感觉这个转换过程。\n"),n("img",{attrs:{src:a(290),alt:"prettier_ast.jpg"}})]),t._v(" "),n("h2",{attrs:{id:"prettier-怎么用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prettier-怎么用","aria-hidden":"true"}},[t._v("#")]),t._v(" Prettier 怎么用")]),t._v(" "),n("h3",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),n("p",[t._v("使用 NPM：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --save-dev --save-exact prettier\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or globally")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --global prettier\n")])])]),n("p",[t._v("使用 yarn：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" prettier --dev --exact\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or globally")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" prettier\n")])])]),n("h3",{attrs:{id:"命令行操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#命令行操作","aria-hidden":"true"}},[t._v("#")]),t._v(" 命令行操作")]),t._v(" "),n("p",[t._v("命令行格式：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[t._v("prettier "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("file/dir/glob "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("p",[t._v("关于 options 的配置具体可见"),n("a",{attrs:{href:"https://prettier.io/docs/en/cli.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网 命令行操作"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("最常用的就是 "),n("code",[t._v("--write")]),t._v("：重写指定的文件，即将指定文件格式化输出")]),t._v(" "),n("p",[t._v("看个示例：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 新建一个目录")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" learn-prettier "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" learn-prettier\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化项目")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 Prettier")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" prettier --save-dev --save-exact\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在项目下新建一个js文件，然后用编译器打开随便写一些格式不规范的代码，格式可以改的更乱一些，但必须符合JS语法。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("touch")]),t._v(" prettier-demo.js\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 保存后，在项目根目录，打开命令行运行以下命令，就会看到杂乱的代码变成格式化的规整的代码")]),t._v("\nnpx prettier --write prettier-demo.js\n")])])]),n("h3",{attrs:{id:"配置文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置文件")]),t._v(" "),n("p",[t._v("但一般很少用命令行去操作格式化代码，在项目中常见的是用配置文件来指定格式化。")]),t._v(" "),n("p",[t._v("配置文件的类型可以有多种方式：")]),t._v(" "),n("ul",[n("li",[t._v('在项目的 package.json 文件中配置 "prettier" 字段。')]),t._v(" "),n("li",[t._v("在项目根目录下指定 .prettierrc 文件，可以带有可选扩展名：.json / .yaml/ .yml/ .toml，无扩展的文件优先。如 .prettierrc / .prettierrc.json / .prettierrc.yaml 等。")]),t._v(" "),n("li",[t._v("在项目根目录指定 .prettierrc.js 或 prettier.config.js 文件导出的对象。")])]),t._v(" "),n("p",[t._v("JSON:")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"trailingComma"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es5"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"tabWidth"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"semi"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"singleQuote"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("JS:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prettier.config.js or .prettierrc.js")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  trailingComma"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es5"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  tabWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  semi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  singleQuote"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"配置项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#配置项","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置项")]),t._v(" "),n("p",[t._v("Prettier 程序的设计遵循 "),n("code",[t._v("Opinionated")]),t._v(" 原则，所以大部分格式化规则都默认且不可配置的，即强制性。但也提供了少量的配置项可以自定义选择。")]),t._v(" "),n("blockquote",[n("p",[t._v("Prettier 反复强调自己是一个 Opinionated code formatter，而且只有 few(很少) options。就已有的配置项，Prettier 官方都明确说了其中很多都不是他们想要的，是迫不得已加上的。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主要规则集中在")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. tab 和 space")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 引号：单引号或双引号")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 3. 尾随逗号")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4. 行尾分号")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 5. 未尾空行")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6. 箭头函数参数的括号")]),t._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//每行最多多少个字符换行默认80")]),t._v("\n  printWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用制表符或是空格缩进行, 默认 false。")]),t._v("\n  useTabs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//tab缩进大小,默认为2")]),t._v("\n  tabWidth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//语句求尾是否使用分号, 默认true")]),t._v("\n  semi"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用单引号, 默认false(在jsx中配置无效, jsx使用 jsxSingleQuote, 默认都是双引号)")]),t._v("\n  singleQuote"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更改对象属性引号的的时机")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "as-needed" -仅在需要时在对象属性周围添加引号， 默认值。')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "consistent" -如果对象中至少有一个属性需要用引号引起来，请用所有属性引起来。')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "preserve" -尊重对象属性中引号的输入使用。')]),t._v("\n  quoteProps"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"as-needed"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 行尾逗号,默认none,可选 none|es5|all")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "es5" -在ES5中有效的结尾逗号（对象，数组等）,默认值')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "none" -没有尾随逗号。')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "all"-尽可能在结尾加上逗号（包括函数参数）。这需要节点8或转换')]),t._v("\n  trailingComma"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"es5"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对象中文字与大括号的空格 默认true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true: { foo: bar }")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false: {foo: bar}")]),t._v("\n  bracketSpacing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 箭头函数参数括号 默认always 可选 avoid| always")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// avoid 能省略括号的时候就省略 例如x => x")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// always 总是有括号 （x) => x")]),t._v("\n  arrowParens"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"always"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//行结尾的风格<auto | lf | crlf | cr>")]),t._v("\n  endOfLine"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lf"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// jsx语法中的引号")]),t._v("\n  jsxSingleQuote"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// JSX标签闭合位置 默认false")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false: <div")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          className=""')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          style={{}}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//       >")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true: <div")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//          className=""')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//          style={{}} >")]),t._v("\n  jsxBracketSameLine"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// HTML空格敏感性")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "css"-遵守CSS display属性的默认值。')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "strict" -空白被认为是敏感的。')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "ignore" -空白被认为是不敏感的。')]),t._v("\n  htmlWhitespaceSensitivity"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vue文件脚本和样式标签缩进")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "false" -不要缩进Vue文件中的脚本和样式标签。')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "true" -在Vue文件中缩进脚本和样式标签。')]),t._v("\n  vueIndentScriptAndStyle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否在文件头部插入一个特殊的@format标记，默认 false")]),t._v("\n  insertPragma"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 是否需要编译指示，默认 false")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * @prettier\n   */")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n   * @format\n   */")]),t._v("\n  requirePragma"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"false"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"排除文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#排除文件","aria-hidden":"true"}},[t._v("#")]),t._v(" 排除文件")]),t._v(" "),n("p",[t._v("可以在项目根目录下新建一个 "),n("code",[t._v(".prettierignore")]),t._v(" 文件来设置 Prettier 格式化时需要排队的文件。.prettierignore 使用 "),n("a",{attrs:{href:""}},[t._v("gitignore")]),t._v(" 语法。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierignore.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/dist/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/node_modules/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/static/")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/public/")]),t._v("\n")])])]),n("h3",{attrs:{id:"行内注释忽略语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#行内注释忽略语法","aria-hidden":"true"}},[t._v("#")]),t._v(" 行内注释忽略语法")]),t._v(" "),n("p",[t._v("使用 "),n("code",[t._v("// prettier-ignore")]),t._v(" 将从格式中排除抽象语法树中的下一个节点。")]),t._v(" "),n("p",[t._v("JS:")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("i")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prettier-ignore")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("i")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("输出")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("i")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// prettier-ignore")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("i")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("p",[t._v("因为 Prettier 规则中的 "),n("code",[t._v("arrowParens")]),t._v(" 默认值 "),n("code",[t._v("always")]),t._v("。关于为什么默认总是对参数加上括号，见"),n("a",{attrs:{href:"https://prettier.io/docs/en/options.html#arrow-function-parentheses",target:"_blank",rel:"noopener noreferrer"}},[t._v("官网 arrowParens "),n("OutboundLink")],1)]),t._v(" "),n("blockquote",[n("p",[t._v("乍一看，单个参数时没有括号可能是一个更好的选择，因为较少的视觉干扰。然而，当 Prettier 不添加括号时，比如在 TS 中需要添加类型注释、额外参数或默认值以及进行其他更改就会变得更加困难。所以在编辑真正的代码时，括号的一致使用提供了更好的开发人员体验，这证明选项的默认值是合理的。")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 箭头函数参数括号 可选 avoid| always  默认 always")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// avoid 能省略括号的时候就省略 例如 x => x")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// always 总是有括号 （x)=>x")]),t._v("\narrowParens"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avoid'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("p",[t._v("HTML:")]),t._v(" "),n("div",{staticClass:"language-html extra-class"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- prettier-ignore --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("         "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("x"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("       "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("hello world"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),t._v("            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- prettier-ignore-attribute --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("(mousedown)")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("       onStart    (    )         "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("(mouseup)")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("         onEnd      (    )         "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- prettier-ignore-attribute (mouseup) --\x3e")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("(mousedown)")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("onStart()"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("(mouseup)")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("         onEnd      (    )         "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),n("p",[t._v("CSS:")]),t._v(" "),n("div",{staticClass:"language-css extra-class"},[n("pre",{pre:!0,attrs:{class:"language-css"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* prettier-ignore */")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".my    ugly rule")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"与-ide-集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#与-ide-集成","aria-hidden":"true"}},[t._v("#")]),t._v(" 与 IDE 集成")]),t._v(" "),n("p",[t._v("Prettier 与各种 IDE 集成需要安装对应的插件，这里只介绍 VS Code ，其它 IDE 参照官网安装"),n("a",{attrs:{href:"https://prettier.io/docs/en/editors.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier 与 IDE 集成"),n("OutboundLink")],1),t._v("。")]),t._v(" "),n("p",[t._v("VS Code 需要安装插件 "),n("code",[t._v("Prettier - Code formatter")]),t._v("，安装完成后，有两种方式执行 Prettier 格式化：")]),t._v(" "),n("ol",[n("li",[t._v("手动执行：")])]),t._v(" "),n("ul",[n("li",[t._v("Windows 快捷键 Shift+ Alt + F，快速执行格式化")]),t._v(" "),n("li",[t._v("或者快捷键 Ctrl + Shift + P 调用命令，输入 Format Document")])]),t._v(" "),n("p",[t._v("如果 VS Code 右下角弹窗提示格式化程序冲突，可以点击配置，打开配置的 JSON 文件，设置默认格式化程序选择 Prettier")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esbenp.prettier-vscode"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("p",[t._v("或者只针对某种语言使用 Prettier 格式化")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"[javascript]"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esbenp.prettier-vscode"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"[css]"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.defaultFormatter"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"esbenp.prettier-vscode"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("自动执行：按保存 Ctrl + S 后自动格式化")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Set the default")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.formatOnSave"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// or Enable per-language")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"[javascript]"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"editor.formatOnSave"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"与-linter-工具集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#与-linter-工具集成","aria-hidden":"true"}},[t._v("#")]),t._v(" 与 Linter 工具集成")]),t._v(" "),n("p",[t._v("Linter 工具具体的功能和意义见"),n("router-link",{attrs:{to:"/FE-Engineering/Lint/ESLint.html"}},[t._v("ESLint")]),t._v("总结。总的来说，Linter 本身的规则分为两部分：")],1),t._v(" "),n("ul",[n("li",[t._v("代码质量规则 (code-quality rules)\n"),n("ul",[n("li",[t._v("no-unused-vars")]),t._v(" "),n("li",[t._v("no-extra-bind")]),t._v(" "),n("li",[t._v("no-implicit-globals")]),t._v(" "),n("li",[t._v("prefer-promise-reject-errors")]),t._v(" "),n("li",[t._v("...")])])]),t._v(" "),n("li",[t._v("代码风格规则 (code-formatting rules)\n"),n("ul",[n("li",[t._v("max-len")]),t._v(" "),n("li",[t._v("no-mixed-spaces-and-tabs")]),t._v(" "),n("li",[t._v("keyword-spacing")]),t._v(" "),n("li",[t._v("comma-style")]),t._v(" "),n("li",[t._v("...")])])])]),t._v(" "),n("p",[t._v("所以 Prettier 无论与哪种 Linter 工具集成在一起，步骤都大致相似，有两步：")]),t._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://prettier.io/docs/en/integrating-with-linters.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Perttier 与 Linter 集成步骤"),n("OutboundLink")],1)])]),t._v(" "),n("ol",[n("li",[t._v("在 linter 中禁用所有可能与 Prettier 格式化代码的方式冲突的规则，让 Prettier 接管这些职责。")])]),t._v(" "),n("p",[t._v("这个覆盖配置有很多现成的 "),n("code",[t._v("Config-prettier")]),t._v(" 包，比如 "),n("code",[t._v("eslint-config-prettier")]),t._v(" 包是禁用 ESLint 中与 Prettier 冲突的规则的配置; "),n("code",[t._v("stylelint-config-prettier")]),t._v("包是禁用与 stylelint 中与 Prettier 冲突的规则配置。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 安装 eslint-config-prettier 禁用掉 Linter 格式式部分的规则")]),t._v("\nyarn add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev eslint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eslint")]),t._v("\nyarn add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev stylelint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// stylelint")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 .eslintrc 或 .stylelintrc 增加配置项")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extends"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 确保 Prettier 是 extends 配置项的最后一个， prettier 是 eslint-config-prettier 或 stylelint-config-prettier 简写形式")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("让 Linters 执行时首先能够调用 Prettier 执行格式化 code-formatting 代码风格类规则，然后再使用 ESLint / stylelint 检查 Code-quality 代码质量类规则。")])]),t._v(" "),n("p",[t._v("这是由 Linters 的 Plugin 实现，比如 "),n("code",[t._v("eslint-plugin-prettier")]),t._v("是一个插件，它运行了使用 Prettier 格式化内容的规则。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc 增加配置项")]),t._v("\nyarn add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev eslint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier/prettier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .stylelintrc 配置项")]),t._v("\nyarn add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev stylelint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint-prettier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rules"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier/prettier"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("或者省略上面两步，直接使用 Prettier 提供的推荐配置一步到位：")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 eslint 上使用要安装下面两个包：")]),t._v("\nyarn add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev eslint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier eslint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 .eslintrc 配置中一步到位")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extends"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin:prettier/recommended"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 stylelint 上使用要安装下面两个包")]),t._v("\nyarn add "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("dev stylelint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier stylelint"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 .stylelintrc 配置中一步到位")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extends"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint-prettier/recommended"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),n("blockquote",[n("p",[t._v("关于 Prettier 与 linter 的区别，参考："),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/80574300",target:"_blank",rel:"noopener noreferrer"}},[t._v("搞懂 ESLint 和 Prettier"),n("OutboundLink")],1),t._v(" ---讲解了两个工具不同的关注点：ESLint 主要解决的是代码质量问题、Prettier 规范代码风格问题。")])]),t._v(" "),n("h2",{attrs:{id:"与-git-集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#与-git-集成","aria-hidden":"true"}},[t._v("#")]),t._v(" 与 Git 集成")]),t._v(" "),n("blockquote",[n("p",[t._v("引用自"),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/81764012",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier 看这一篇就行了"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("IDE 整合了 Prettier 如果设置了保存自动格式基本能保证编码后代码是格式化后的。但更进一步，能不能提交代码的时候自动执行格式化？这样的话，我平时写代码根本不需要关心啥格式了，保证入库的代码让 Code Review 的人别骂我就好。")]),t._v(" "),n("p",[t._v("下面咱们就看看怎么样让 Git 在 Commit 前先执行 Prettier。既然要和 Git 整合，首先确保你当前的工程在用 Git。")]),t._v(" "),n("p",[t._v("这里需要安装两个辅助工具：")]),t._v(" "),n("ul",[n("li",[t._v("husky：简化了对 git hooks 勾子的脚本编写")]),t._v(" "),n("li",[t._v("lint-staged：限制只对已提交到 GIT 暂存区 staged 的代码进行格式化，而不是整个项目代码，这样格式更快更安全\n"),n("blockquote",[n("p",[t._v("关于工具的具体总结见 "),n("router-link",{attrs:{to:"/FE-Engineering/Lint/Husky.html"}},[t._v("Husky")]),t._v(" 和 "),n("router-link",{attrs:{to:"/FE-Engineering/Lint/lint-staged.html"}},[t._v("lint-staged")])],1)])])]),t._v(" "),n("ol",[n("li",[t._v("安装工具")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" husky --save-dev\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" lint-staged --save-dev\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("在 packjson.json 文件中添加配置项")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"husky"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.0.5"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^9.2.5"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"husky"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hooks"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"pre-commit"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*.{js,css,json,md}"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ignore"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dist/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/node_modules/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/static/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/public/"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("上面两步，也可以使用下面命令，一步完成：")]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这一行就可以安装husky和lint-stage，并且配置好husky。")]),t._v("\nnpx mrm lint-staged\n")])])]),n("h2",{attrs:{id:"将-prettier-和-eslint-都与-git-集成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#将-prettier-和-eslint-都与-git-集成","aria-hidden":"true"}},[t._v("#")]),t._v(" 将 Prettier 和 ESLint 都与 Git 集成")]),t._v(" "),n("ol",[n("li",[t._v("需要安装：")])]),t._v(" "),n("div",{staticClass:"language-sh extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sh"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" --dev ESLint Prettier eslint-config-prettier eslint-plugin-prettier husky lint-staged\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("然后在 "),n("code",[t._v(".eslintrc")]),t._v(" 配置")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在 .eslintrc 配置中一步到位")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"extends"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin:prettier/recommended"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("最后在 "),n("code",[t._v("packjson.json")]),t._v(" 中配置")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"husky"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hooks"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pre-commit"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"linters"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.js"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 匹配.js文件一下命令")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 执行eslint进行扫描，并进行fix")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//执行prettier脚本,对代码镜像格式化")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//上述两项任务完成后对代码重新add。")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.vue"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/**/*.scss"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --syntax=scss --fix"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 也可以把 stylelint 也集成进来")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ignore"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dist/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/node_modules/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/static/"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/public/"')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),n("h2",{attrs:{id:"参考链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考链接","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考链接")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://prettier.io/docs/en/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier 官网"),n("OutboundLink")],1),t._v(" --- 英文不好，用谷歌浏览器自带的网页翻译工具，还算不错")]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/81764012",target:"_blank",rel:"noopener noreferrer"}},[t._v("Prettier 看这一篇就行了"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/80574300",target:"_blank",rel:"noopener noreferrer"}},[t._v("搞懂 ESLint 和 Prettier"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);