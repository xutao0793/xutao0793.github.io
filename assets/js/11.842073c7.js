(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{216:function(a,s,t){a.exports=t.p+"assets/img/nvm-download.dac25e94.png"},217:function(a,s,t){a.exports=t.p+"assets/img/nvm-install-path.a7bf338f.jpg"},218:function(a,s,t){a.exports=t.p+"assets/img/nvm-install-symlink.0caaef39.jpg"},219:function(a,s,t){a.exports=t.p+"assets/img/nvm-uninstall.84497674.png"},220:function(a,s,t){a.exports=t.p+"assets/img/path.055921e1.png"},221:function(a,s,t){a.exports=t.p+"assets/img/node-path.e406ae1f.png"},614:function(a,s,t){"use strict";t.r(s);var n=t(0),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"nvm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nvm","aria-hidden":"true"}},[a._v("#")]),a._v(" nvm")]),a._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#nvm-是什么"}},[a._v("nvm 是什么")]),n("ul",[n("li",[n("a",{attrs:{href:"#_1-下载"}},[a._v("1. 下载")])]),n("li",[n("a",{attrs:{href:"#_2-安装之前操作"}},[a._v("2. 安装之前操作")])]),n("li",[n("a",{attrs:{href:"#_3-安装"}},[a._v("3. 安装")])]),n("li",[n("a",{attrs:{href:"#_4-更改-nvm-的数据源"}},[a._v("4. 更改 nvm 的数据源")])]),n("li",[n("a",{attrs:{href:"#_5-nvm-的使用"}},[a._v("5. nvm 的使用")])]),n("li",[n("a",{attrs:{href:"#_6-卸载"}},[a._v("6. 卸载")])])])]),n("li",[n("a",{attrs:{href:"#用-nvm-安装-node-js"}},[a._v("用 NVM 安装 Node.js")])]),n("li",[n("a",{attrs:{href:"#解决-nvm-切换-node-版本后-npm-安装的全局包不能共用的问题"}},[a._v("解决 nvm 切换 node 版本后 npm 安装的全局包不能共用的问题")])])])]),n("p"),a._v(" "),n("h2",{attrs:{id:"nvm-是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nvm-是什么","aria-hidden":"true"}},[a._v("#")]),a._v(" nvm 是什么")]),a._v(" "),n("p",[a._v("所谓 "),n("code",[a._v("nvm")]),a._v(" 就是 "),n("code",[a._v("Node Version Manager")]),a._v(" 的缩写，即 "),n("code",[a._v("node")]),a._v("的版本管理工具，当我们需要在电脑中安装多个不同版本的"),n("code",[a._v("node")]),a._v("，时就要由 NVM 来实现。")]),a._v(" "),n("p",[n("code",[a._v("node")]),a._v("管理工具主流两个"),n("code",[a._v("n")]),a._v(" "),n("code",[a._v("nvm")]),a._v("，但实际上都不支持 windows 系统。所以出现了"),n("code",[a._v("gnvm")]),a._v("和"),n("code",[a._v("nvm-windows")]),a._v("可以运行在 windows 上运行的管理工具。我这边选择"),n("code",[a._v("nvm-windows")]),a._v("，因为"),n("code",[a._v("gnvm")]),a._v("安装了报错一直没成功就放弃了。")]),a._v(" "),n("h3",{attrs:{id:"_1-下载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载","aria-hidden":"true"}},[a._v("#")]),a._v(" 1. 下载")]),a._v(" "),n("p",[a._v("nvm-windows 在 github 下载"),n("a",{attrs:{href:"https://github.com/coreybutler/nvm-windows/releases",target:"_blank",rel:"noopener noreferrer"}},[a._v("链接"),n("OutboundLink")],1)]),a._v(" "),n("p",[n("img",{attrs:{src:t(216),alt:"nvm下载"}})]),a._v(" "),n("p",[a._v("看到有两个版本【Pre-release 1.1.6】和 【Latest release 1.1.7]。\n本来不想下载最新的，怕不稳定。下了 1.1.6，但是 1.1.6 的版本有两个问题：")]),a._v(" "),n("ul",[n("li",[n("code",[a._v("npm")]),a._v("无法安装，"),n("code",[a._v("nvm install")]),a._v("时只安装了"),n("code",[a._v("node")]),a._v("，但"),n("code",[a._v("npm")]),a._v("提示安装成功但实际上安装目录并没有相关文件，导致"),n("code",[a._v("npm")]),a._v("不可用。")]),a._v(" "),n("li",[n("code",[a._v("nvm unistall")]),a._v("命令无效。卸载某个版本时没有效果，提示需要手动删除文件夹。")])]),a._v(" "),n("p",[a._v("看到上图版本 1.1.7 修复了上述问题，实际安装成功也没有上面二个问题，所以这里下载 1.1.7。（1.1.7 是当前最新版本，后续以最新版本为主）。")]),a._v(" "),n("p",[a._v("这里又有四个可下载的文件解释下：")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("nvm-noinstall.zip： 这个是绿色免安装版本，但是使用之前需要配置\nnvm-setup.zip：这是一个安装包，下载之后点击安装，无需配置就可以使用，方便。\nSource code(zip)：zip压缩的源码\nSourc code(tar.gz)：tar.gz的源码，一般用于*nix系统\n")])])]),n("h3",{attrs:{id:"_2-安装之前操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-安装之前操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 2. 安装之前操作")]),a._v(" "),n("p",[a._v("如果电脑已经安装了"),n("code",[a._v("node")]),a._v("，最好卸载掉按下面步骤清理下文件目录，以免安装不成功。")]),a._v(" "),n("p",[a._v("在安装"),n("code",[a._v("nvm for windows")]),a._v("之前：")]),a._v(" "),n("ul",[n("li",[a._v("你需要卸载任何现有版本的"),n("code",[a._v("node.js")]),a._v('。并且需要删除现有的 nodejs 安装目录（例如："C:\\Program Files\\nodejs’）。因为，nvm 生成的 symlink（符号链接/超链接)不会覆盖现有的（甚至是空的）安装目录。')]),a._v(" "),n("li",[a._v("你还需要删除现有的 npm 安装位置（例如“C:\\Users\\weiqinl\\AppData\\Roaming\\npm”），以便正确使用 nvm 安装位置。")])]),a._v(" "),n("h3",{attrs:{id:"_3-安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-安装","aria-hidden":"true"}},[a._v("#")]),a._v(" 3. 安装")]),a._v(" "),n("p",[a._v("将之前下载的文件解压，双击执行安装文件"),n("code",[a._v("nvm-setup.exe")]),a._v("，傻瓜式的下一步就行。\n这里注意的地方就是两个安装路径的问题：")]),a._v(" "),n("ul",[n("li",[n("p",[a._v("nvm 的安装路径名称中最好不要有空格，如默认的"),n("code",[a._v("program Files")]),a._v("路径，最好自定义一下。我不喜欢把软件安装在 C 盘，所以更改到 D 盘目录下。\n"),n("img",{attrs:{src:t(217),alt:"nvm下载"}})])]),a._v(" "),n("li",[n("p",[a._v("node 快捷方式的设置目录最好选择在 nvm 同目录下。这里改到 D:\\program\\nodejs\n"),n("img",{attrs:{src:t(218),alt:"nvm下载"}})])])]),a._v(" "),n("p",[a._v("之后，继续点击 Next--\x3eInstall--\x3eFinish 完成本次安装。")]),a._v(" "),n("p",[a._v("打开"),n("code",[a._v("cmd")]),a._v("命令行窗口，输入"),n("code",[a._v("nvm version")])]),a._v(" "),n("ul",[n("li",[a._v("如果正确出现 nvm 版本号，则说明 nvm 安装成功。")]),a._v(" "),n("li",[a._v("否则，可能会提示 nvm: command not found")])]),a._v(" "),n("h3",{attrs:{id:"_4-更改-nvm-的数据源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-更改-nvm-的数据源","aria-hidden":"true"}},[a._v("#")]),a._v(" 4. 更改 nvm 的数据源")]),a._v(" "),n("p",[a._v("默认 nvm 下载 node 数据请求的是国外的数据源，因为网络问题很容易导致安装失败。所以我们使用国内的淘宝镜像的数据源。")]),a._v(" "),n("p",[a._v("有两种方式设置：")]),a._v(" "),n("ul",[n("li",[a._v("命令行方式\n打开"),n("code",[a._v("cmd")]),a._v("命令窗口，分别输入下列内容回车")])]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm node_mirror: https://npm.taobao.org/mirrors/node/\n")])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm npm_mirror https://npm.taobao.org/mirrors/npm/\n")])])]),n("ul",[n("li",[a._v("修改配置文件"),n("code",[a._v("setting.txt")]),a._v("\n在"),n("code",[a._v("nvm")]),a._v("目录下打到"),n("code",[a._v("setting.txt")]),a._v("文件打开，添加以下内容镜像内容，最终为")])]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("root: D:\\program\\nvm\npath: D:\\program\\nodejs\nnode_mirror: http://npm.taobao.org/mirrors/node/\nnpm_mirror: https://npm.taobao.org/mirrors/npm/\n")])])]),n("p",[a._v("root 和 path 为 nvm 之前安装设置的文件目录。\nnode_mirror 和 npm_mirror 修改为对应的国内淘宝镜像目录。")]),a._v(" "),n("h3",{attrs:{id:"_5-nvm-的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-nvm-的使用","aria-hidden":"true"}},[a._v("#")]),a._v(" 5. nvm 的使用")]),a._v(" "),n("p",[a._v("Windows 下 nvm 的常用命令：")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm arch                         查看当前系统的位数和当前nodejs的位数\nnvm "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("version"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("arch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("     安装制定版本的node 并且可以指定平台 version 版本号  arch 平台\nnvm list "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("available"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n  - nvm list   查看已经安装的版本\n  - nvm list installed 查看已经安装的版本\n  - nvm list available 查看网络可以安装的版本\nnvm on                           打开nodejs版本控制\nnvm off                          关闭nodejs版本控制\nnvm proxy "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("                  查看和设置代理\nnvm node_mirror "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("            设置或者查看setting.txt中的node_mirror，如果不设置的默认是 https://nodejs.org/dist/\nnvm npm_mirror "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("url"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("             设置或者查看setting.txt中的npm_mirror,如果不设置的话默认的是：https://github.com/npm/npm/archive/.\nnvm uninstall "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("version"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("          卸载制定的版本\nnvm use "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("arch"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("         切换制定的node版本和位数\nnvm root "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("                  设置和查看root路径\nnvm version                      查看当前的版本\n")])])]),n("h3",{attrs:{id:"_6-卸载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-卸载","aria-hidden":"true"}},[a._v("#")]),a._v(" 6. 卸载")]),a._v(" "),n("p",[a._v("因为 nvm 是一个程序，不是一个包，所以在开始菜单的"),n("code",[a._v("所有程序")]),a._v("中找到"),n("code",[a._v("NVM for Windows")]),a._v("目录中点击"),n("code",[a._v("Uninstall nvm")]),a._v("，像常规电脑软件一样卸载即可。")]),a._v(" "),n("p",[a._v("卸载后，之前安装在 nvm 目录下的所有文件都会清空。\n"),n("img",{attrs:{src:t(219),alt:"nvm uninstall"}})]),a._v(" "),n("h2",{attrs:{id:"用-nvm-安装-node-js"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#用-nvm-安装-node-js","aria-hidden":"true"}},[a._v("#")]),a._v(" 用 NVM 安装 Node.js")]),a._v(" "),n("p",[a._v("打开命令行窗口，输入以下命令:")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm list available\n")])])]),n("p",[a._v("查看网络上可用的 node 版本：")]),a._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("C:\\Users\\Administrator>nvm list available\n\n|   CURRENT    |     LTS      |  OLD STABLE  | OLD UNSTABLE |\n|--------------|--------------|--------------|--------------|\n|   12.12.0    |   10.16.3    |   0.12.18    |   0.11.16    |\n|   12.11.1    |   10.16.2    |   0.12.17    |   0.11.15    |\n|   12.11.0    |   10.16.1    |   0.12.16    |   0.11.14    |\n|   12.10.0    |   10.16.0    |   0.12.15    |   0.11.13    |\n|    12.9.1    |   10.15.3    |   0.12.14    |   0.11.12    |\n|    12.9.0    |   10.15.2    |   0.12.13    |   0.11.11    |\n|    12.8.1    |   10.15.1    |   0.12.12    |   0.11.10    |\n|    12.8.0    |   10.15.0    |   0.12.11    |    0.11.9    |\n|    12.7.0    |   10.14.2    |   0.12.10    |    0.11.8    |\n|    12.6.0    |   10.14.1    |    0.12.9    |    0.11.7    |\n|    12.5.0    |   10.14.0    |    0.12.8    |    0.11.6    |\n|    12.4.0    |   10.13.0    |    0.12.7    |    0.11.5    |\n|    12.3.1    |    8.16.2    |    0.12.6    |    0.11.4    |\n|    12.3.0    |    8.16.1    |    0.12.5    |    0.11.3    |\n|    12.2.0    |    8.16.0    |    0.12.4    |    0.11.2    |\n|    12.1.0    |    8.15.1    |    0.12.3    |    0.11.1    |\n|    12.0.0    |    8.15.0    |    0.12.2    |    0.11.0    |\n|   11.15.0    |    8.14.1    |    0.12.1    |    0.9.12    |\n|   11.14.0    |    8.14.0    |    0.12.0    |    0.9.11    |\n|   11.13.0    |    8.13.0    |   0.10.48    |    0.9.10    |\n\nThis is a partial list. For a complete list, visit https://nodejs.org/download/r\nelease\n\nC:\\Users\\Administrator>\n")])])]),n("blockquote",[n("p",[a._v("关于 node 版本中 current 和 LTS 的区别："),n("a",{attrs:{href:"https://www.jianshu.com/p/014a14713dce",target:"_blank",rel:"noopener noreferrer"}},[a._v("链接"),n("OutboundLink")],1)])]),a._v(" "),n("p",[a._v("一般选择 LTS 版本安装：")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3\n// 如果是多个可以连写\nnvm "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.14")]),a._v(".0 "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.13")]),a._v(".0\n")])])]),n("p",[a._v("等待下载安装成功，然后查看本地已经安装的版本")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm list\n")])])]),n("p",[a._v("输出像下面这样。")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("nvm list\n\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.14")]),a._v(".0\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.13")]),a._v(".0\n\nC:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),n("p",[a._v("然后通过指定版本使用")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm use "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.14")]),a._v(".0\n")])])]),n("p",[a._v("再查看当前版本列表")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm list\n")])])]),n("p",[a._v("输出像下面这样")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("\nC:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("nvm list\n\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3\n  * "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.14")]),a._v(".0 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Currently using "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-bit executable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.13")]),a._v(".0\n\nC:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),n("p",[n("code",[a._v("* 10.14.0 (Currently using 64-bit executable)")]),a._v("代表当前系统在使用的"),n("code",[a._v("node")]),a._v("版本。")]),a._v(" "),n("p",[a._v("确认 node 是否安装成功")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("node -v\n")])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" -v\n")])])]),n("p",[a._v("正确输出版本号即安装成功，可以正常使用。")]),a._v(" "),n("h2",{attrs:{id:"解决-nvm-切换-node-版本后-npm-安装的全局包不能共用的问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决-nvm-切换-node-版本后-npm-安装的全局包不能共用的问题","aria-hidden":"true"}},[a._v("#")]),a._v(" 解决 nvm 切换 node 版本后 npm 安装的全局包不能共用的问题")]),a._v(" "),n("p",[a._v("此时如果我们在当前 node 版本下安装了全局包，比如"),n("code",[a._v("cnpm")]),a._v(" 及各类脚手架"),n("code",[a._v("vue-cli")]),a._v(" "),n("code",[a._v("typescript")]),a._v(" "),n("code",[a._v("create-react-app")]),a._v("等。\n然后切换另一个 node 版本运行时，没办法直接使用之前安装的全局包，会报错。一种办法是再全局重新安装一遍，但这不是最好的办法。")]),a._v(" "),n("p",[a._v("查看"),n("code",[a._v("nvm")]),a._v("管理的每个"),n("code",[a._v("node")]),a._v("版本都维护在单独的文件目录下，所有每个版本安装的全局包也都是在其所属版本的目录下。必然获取不到。")]),a._v(" "),n("p",[a._v("所以我们可以像以前单个"),n("code",[a._v("node")]),a._v("版本不想在 C 盘目录下安装全局包一样，将全局包安装目录提出来到指定目录。")]),a._v(" "),n("p",[n("strong",[a._v("1. 在 nvm 安装路径下新建两个文件夹")])]),a._v(" "),n("ul",[n("li",[a._v("node_global 全局包下载存放")]),a._v(" "),n("li",[a._v("node_cache node 缓存")])]),a._v(" "),n("p",[n("strong",[a._v("2. 修改 npm 配置文件")])]),a._v(" "),n("p",[a._v("在 cmd 命令行窗口输入以下两条命令")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" prefix "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"D:\\program'),n("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[a._v("\\n")]),a._v("vm"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[a._v("\\n")]),a._v('ode_global"')]),a._v("\n")])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" config "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("set")]),a._v(" cache "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"D:\\program'),n("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[a._v("\\n")]),a._v("vm"),n("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[a._v("\\n")]),a._v('ode_cache"')]),a._v("\n")])])]),n("p",[n("strong",[a._v("3. 修改系统环境变量")])]),a._v(" "),n("ul",[n("li",[a._v("在用户变量"),n("code",[a._v("path")]),a._v("中添加"),n("code",[a._v("D:\\program\\nvm\\node_global")]),a._v(" "),n("img",{attrs:{src:t(220),alt:"path"}})])]),a._v(" "),n("ul",[n("li",[a._v("在系统变量中新增变量"),n("code",[a._v("NODE_PATH")]),a._v("，变量值为"),n("code",[a._v("D:\\program\\nvm\\node_global\\node_modules")]),a._v(" "),n("img",{attrs:{src:t(221),alt:"node-path"}})])]),a._v(" "),n("p",[n("strong",[a._v("4. 验证")])]),a._v(" "),n("p",[a._v("查看当前 node 版本号")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm list\n")])])]),n("p",[a._v("输出")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("nvm list\n\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3\n  * "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.14")]),a._v(".0 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Currently using "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-bit executable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.13")]),a._v(".0\n\nC:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),n("p",[a._v("全局安装 cnpm")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" i -g cnpm\n")])])]),n("p",[a._v("查看是否安装成功")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("cnpm -v\n")])])]),n("p",[a._v("如果输出版本号即 cnpm 全局安装成功\n此时打开文件目录"),n("code",[a._v("D:\\ProgramFiles\\nvm\\node_global")]),a._v("可以正常看到 cnpm 包文件")]),a._v(" "),n("p",[a._v("再切换 node 版本号")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm use "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3\n")])])]),n("p",[a._v("查看是否切换成功")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("nvm list\n")])])]),n("p",[a._v("输出")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("C:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("nvm list\n\n  * "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.16")]),a._v(".3 "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("Currently using "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("64")]),a._v("-bit executable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.14")]),a._v(".0\n    "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("10.13")]),a._v(".0\n\nC:"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Users"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("Administrator"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),n("p",[a._v("这个版本下，我们没有直接全局安装"),n("code",[a._v("cnpm")]),a._v(",但是我们使用以下命令仍然有效，不会报错")]),a._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[a._v("cnpm -v\n")])])]),n("p",[a._v("至此，nvm 环境下共用全局包解决了。")]),a._v(" "),n("blockquote",[n("p",[a._v("powershell默认限制脚本运行，所以在powershell中运行全局安装包会报错。此时需要解除限制：以管理员身份运行powershell，输入set-ExecutionPolicy RemoteSigned")])]),a._v(" "),n("blockquote",[n("p",[a._v("可能还会遇到nvm 安装node成功，但是附带的npm失败，不可用。此时需要手动安装node，再把文件夹移入nvm目录下，修改为nvm可识别的以node版本号命名。")])]),a._v(" "),n("p",[a._v("开发所需的 node 环境配置完毕。")])])}),[],!1,null,null,null);s.default=e.exports}}]);