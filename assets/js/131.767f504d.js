(window.webpackJsonp=window.webpackJsonp||[]).push([[131],{668:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"lint-staged"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lint-staged","aria-hidden":"true"}},[t._v("#")]),t._v(" lint-staged")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged github"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("Run linters against staged git files and don't let ğŸ’© slip into your code base!"),a("br"),t._v("é’ˆå¯¹æš‚å­˜çš„ git æ–‡ä»¶è¿è¡Œ lintersï¼Œä¸è¦è®© ğŸ’© è¿›å…¥æ‚¨çš„ä»£ç åº“ï¼")])]),t._v(" "),a("p",[t._v("lint-staged ä»åå­—å¯ä»¥çœ‹åŒºï¼Œåªæ ¡éªŒ lint æäº¤åˆ°æš‚å­˜åŒº staged çš„ä»£ç ã€‚å³æ¯æ¬¡åªå¯¹å½“å‰ä¿®æ”¹åè¿›è¡Œ git add åŠ å…¥åˆ° stage åŒºçš„æ–‡ä»¶è¿›è¡Œæ‰«ææ ¡éªŒï¼Œé¿å…å¯¹é¡¹ç›®ä¸­è¿›è¡Œå…¨é¡¹ç›®æ‰«ææ‰€ä¼šå¢åŠ äº†æ£€æŸ¥å¤æ‚åº¦å’Œæ—¶é•¿ï¼Œæˆ‘ä»¬åªéœ€è¦æ£€æŸ¥æˆ‘ä»¬è¦æäº¤çš„ä»£ç å°±å¯ä»¥äº†ã€‚")]),t._v(" "),a("p",[t._v("é¿å…çš„å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå½“é’ˆå¯¹ä»¥å‰çš„æœªä¸¥æ ¼è¿›è¡Œä»£ç è§„èŒƒåŒ–çš„å†å²ä»£ç æ—¶ï¼Œå¦‚æœæäº¤ä»£ç æ—¶ï¼Œæœªåš lint-staged é™åˆ¶ï¼Œå¯¹åŒ…æ‹¬å…¶ä»–æœªä¿®æ”¹æ–‡ä»¶åœ¨å†…çš„å…¨é¡¹ç›®ä»£ç éƒ½è¿›è¡Œæ£€æŸ¥ï¼Œä¸€ä¸‹å‡ºç°æˆç™¾ä¸Šåƒä¸ªé”™è¯¯ï¼Œä¼°è®¡ä¼šå“å¾—ç«‹é©¬åˆ æ‰ç®¡ç† eslint çš„é…ç½®ï¼Œå†’å‡ºä¸€èº«å†·æ±—ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ lint-staged å·¥å…·åªæ ¡éªŒå½“å‰è¢«åŠ å…¥åˆ° stage åŒºçš„æ–‡ä»¶ã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®‰è£…")]),t._v("\nnpm install lint"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("save"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("dev\n")])])]),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹stagedçš„æ–‡ä»¶è¿›è¡Œlintï¼Œé¿å…å¯¹æ•´ä¸ªé¡¹ç›®è¿›è¡Œlintä»£ç åºå¤§ä¸”ç¼“æ…¢")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src/**/*.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŒ¹é….jsæ–‡ä»¶ä¸€ä¸‹å‘½ä»¤")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰§è¡Œeslintè¿›è¡Œæ‰«æè¿›è¡Œfix")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‰§è¡Œprettierè„šæœ¬,å¯¹ä»£ç é•œåƒæ ¼å¼åŒ–")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸Šè¿°ä¸¤é¡¹ä»»åŠ¡å®Œæˆåå¯¹ä»£ç é‡æ–°addã€‚")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src/**/*.vue"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"src/**/*.scss"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylelint --syntax=scss --fix"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier --write"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ignore"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/dist/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/node_modules/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/static/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/public/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä» v3.1 å¼€å§‹ï¼Œæ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ–¹å¼è¿›è¡Œé…ç½®ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("lint-staged åœ¨ä½ çš„å¯¹è±¡ package.json")]),t._v(" "),a("li",[t._v(".lintstagedrc JSON æˆ– YML æ ¼å¼çš„æ–‡ä»¶")]),t._v(" "),a("li",[t._v("lint-staged.config.js JS æ ¼å¼çš„æ–‡ä»¶")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"lint-staged"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your-cmd"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .lintstagedrc.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"*"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"your-cmd"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å…³äº lint-staged ä¸ husky é›†æˆä½¿ç”¨ï¼Œå‚è€ƒ "),a("router-link",{attrs:{to:"/FE-Engineering/Lint/Husky.html"}},[t._v("Husky")])],1)])}),[],!1,null,null,null);s.default=e.exports}}]);