(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{675:function(t,s,n){"use strict";n.r(s);var r=n(0),a=Object(r.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"npm-script"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-script","aria-hidden":"true"}},[t._v("#")]),t._v(" NPM Script")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://www.cnblogs.com/bee0060/p/5773560.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("为什么我要离开gulp和grunt转投npm脚本的怀抱"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"npm-run-npm-run-script"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#npm-run-npm-run-script","aria-hidden":"true"}},[t._v("#")]),t._v(" npm run / npm run-script")]),t._v(" "),n("p",[t._v("npm 是如何管理和执行各种 scripts 的呢？作为 npm 内置的核心功能之一，npm run 实际上是 npm run-script 命令的简写。当我们运行 npm run xxx 时，基本步骤如下：")]),t._v(" "),n("ul",[n("li",[t._v("从 package.json 文件中读取 scripts 对象里面的全部配置；")]),t._v(" "),n("li",[t._v("以传给 npm run 的第一个参数作为键，本例中为 xxx，在 scripts 对象里面获取对应的值作为接下来要执行的命令，如果没找到直接报错；")]),t._v(" "),n("li",[t._v("如果找到，开启一个 shell 进程，在系统默认的 shell 中执行上述命令，系统默认 shell 通常是 bash。")])]),t._v(" "),n("h2",{attrs:{id:"如何找到命令行中命令的执行文件？"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何找到命令行中命令的执行文件？","aria-hidden":"true"}},[t._v("#")]),t._v(" 如何找到命令行中命令的执行文件？")]),t._v(" "),n("p",[t._v("npm 在执行指定 script 之前会把 node_modules/.bin 加到环境变量 $PATH 的里面，执行完后再清除，这意味着任何内含可执行文件的 npm 依赖都可以在 npm script 中直接调用，换句话说，你不需要在 npm script 中加上可执行文件的完整路径，比如 "),n("code",[t._v("./node_modules/.bin/eslint **.js")]),t._v("，只需要直接写 "),n("code",[t._v("eslint **.js")]),t._v(", 此时 eslint 命令的入口文件即 eslint 依赖包 package.json 中 bin 字段的值。")]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"bin"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"eslint"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bin/eslint.js"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);