(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{315:function(t,a,n){t.exports=n.p+"assets/img/transition.5990c1df.png"},753:function(t,a,n){"use strict";n.r(a);var s=n(0),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"_33-vue内置过渡组件transition"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_33-vue内置过渡组件transition","aria-hidden":"true"}},[t._v("#")]),t._v(" 33 vue内置过渡组件transition")]),t._v(" "),s("p",[t._v("目录")]),t._v(" "),s("ul",[s("li",[t._v("什么是过渡")]),t._v(" "),s("li",[t._v("基本过渡或动画实现的语法\n"),s("ul",[s("li",[t._v("css过渡动画：transition / animation")]),t._v(" "),s("li",[t._v("js过渡：特定事件钩子函数")])])]),t._v(" "),s("li",[t._v("各种情形下的过渡实现，使用"),s("code",[t._v("<transition>")]),t._v(" "),s("ul",[s("li",[t._v("初始渲染过渡动画, appear")]),t._v(" "),s("li",[t._v("单个元素的条件渲染（v-if/v-show)过渡动画")]),t._v(" "),s("li",[t._v("多个元素的条件渲染，指定key、mode")]),t._v(" "),s("li",[t._v("动态组件切换过渡动画，指定mode")]),t._v(" "),s("li",[t._v("列表元素同时渲染，使用"),s("code",[t._v("<transition-group")]),t._v("，指定tag,key")]),t._v(" "),s("li",[t._v("过渡效果的复用，包装成组件")])])]),t._v(" "),s("li",[t._v("状态过渡\n"),s("ul",[s("li",[t._v("数值，结合watch和TweenMax")]),t._v(" "),s("li",[t._v("使用colorjs和Tween.js")]),t._v(" "),s("li",[t._v("包装成组件")])])]),t._v(" "),s("li",[s("code",[t._v("<transition>")]),t._v("的属性prop:\n"),s("ul",[s("li",[t._v("name - string，用于自动生成 CSS 过渡类名。例如：name: 'fade' 将自动拓展为.fade-enter，.fade-enter-active等。默认类名为 \"v\"")]),t._v(" "),s("li",[t._v('mode - string，控制离开/进入的过渡时间序列。有效的模式有 "out-in" 和 "in-out"；默认同时生效。')]),t._v(" "),s("li",[t._v("enter-class - string")]),t._v(" "),s("li",[t._v("enter-active-class - string")]),t._v(" "),s("li",[t._v("enter-to-class - string")]),t._v(" "),s("li",[t._v("leave-class - string")]),t._v(" "),s("li",[t._v("leave-active-class - string")]),t._v(" "),s("li",[t._v("leave-to-class - string\n=====================")]),t._v(" "),s("li",[t._v("appear - boolean，是否在初始渲染时使用过渡。默认为 false。")]),t._v(" "),s("li",[t._v("appear-class - string")]),t._v(" "),s("li",[t._v("appear-active-class - string")]),t._v(" "),s("li",[t._v("appear-to-class - string\n==========================")]),t._v(" "),s("li",[t._v("css - boolean，是否使用 CSS 过渡类。默认为 true。如果设置为 false，将只通过组件事件触发注册的 JavaScript 钩子。")]),t._v(" "),s("li",[t._v("@before-enter")]),t._v(" "),s("li",[t._v("@enter")]),t._v(" "),s("li",[t._v("@after-enter")]),t._v(" "),s("li",[t._v("@enter-cancelled")]),t._v(" "),s("li",[t._v("@before-leave")]),t._v(" "),s("li",[t._v("@leave")]),t._v(" "),s("li",[t._v("@after-leave")]),t._v(" "),s("li",[t._v("@leave-cancelled (v-show only)")]),t._v(" "),s("li",[t._v("@before-appear")]),t._v(" "),s("li",[t._v("@appear")]),t._v(" "),s("li",[t._v("@after-appear")]),t._v(" "),s("li",[t._v("@appear-cancelled")])])]),t._v(" "),s("li",[s("code",[t._v('<transition-group tag="">')]),t._v("其它prop同"),s("code",[t._v("<transition>")])])]),t._v(" "),s("p",[t._v("这里只是把内容和概念整理成更易理解和记忆的知识脉路，官方文档在这一节内容提供了非常详细的示例说明，就不重复写示例了。\n"),s("strong",[s("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/transitions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("各种示例请点击查看官方文档"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"什么是过渡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是过渡","aria-hidden":"true"}},[t._v("#")]),t._v(" 什么是过渡")]),t._v(" "),s("p",[t._v("过渡是元素的某个属性由一个值（状态）平滑转变到另一个值（状态），避免界面突然变化。")]),t._v(" "),s("p",[t._v("通常CSS的属性值的改变都是立即更新的，即从旧值立即改变到新值，而CSS的"),s("code",[t._v("transition")]),t._v("属性则提供了方法帮助实现CSS属性值的平滑转换，或者"),s("code",[t._v("animation")]),t._v("属性实现自定义动画的形式完成状态改变。")]),t._v(" "),s("p",[t._v("vue提供了两种类型的过渡或动画，")]),t._v(" "),s("ul",[s("li",[t._v("使用"),s("code",[t._v("transition")]),t._v("组件实现元素或组件的过渡和动画")]),t._v(" "),s("li",[t._v("使用外部库实现数据状态的过渡和动画")])]),t._v(" "),s("h2",{attrs:{id:"transition内置组件实现元素-组件的过渡或动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#transition内置组件实现元素-组件的过渡或动画","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("transition")]),t._v("内置组件实现元素/组件的过渡或动画")]),t._v(" "),s("p",[t._v("vue内部封装了一个实现过渡或动画的组件"),s("code",[t._v("transition")]),t._v("，被它包裹的元素或组件会在插入，更新或者移除DOM元素时应用过渡或动画效果。")]),t._v(" "),s("p",[s("strong",[t._v("过渡或动画触发的情形")]),t._v("\n在vue中出现元素插入、更新或者移除的情形有以下几种，也就是说"),s("code",[t._v("transition")]),t._v("组件包裹的元素出现以下几中情形时，将应用过渡或动画效果：")]),t._v(" "),s("ul",[s("li",[t._v("初始渲染时")]),t._v(" "),s("li",[t._v("条件渲染（v-if / v-show）")]),t._v(" "),s("li",[t._v("动态组件 component配合is特性切换组件")]),t._v(" "),s("li",[t._v("列表渲染（v-for)")])]),t._v(" "),s("p",[s("strong",[t._v("过渡或动画的实现方式")]),t._v(" "),s("code",[t._v("transition")]),t._v("组件要实现过渡或动画的方式有两种：")]),t._v(" "),s("ul",[s("li",[t._v("绑定特定的CSS类名")]),t._v(" "),s("li",[t._v("绑定特定的JS事件")])]),t._v(" "),s("p",[s("strong",[t._v("特定的CSS类名钩子")]),t._v("\n在进入/离开的过渡或动画中，会有 6 个 class 切换，然后在特定的类中使用CSS的"),s("code",[t._v("transition")]),t._v("属性实现过渡效果，使用CSS3的"),s("code",[t._v("animation")]),t._v("属性实现动画的效果。")]),t._v(" "),s("ul",[s("li",[t._v("v-enter")]),t._v(" "),s("li",[t._v("v-enter-active")]),t._v(" "),s("li",[t._v("v-enter-to\n=========")]),t._v(" "),s("li",[t._v("v-leave")]),t._v(" "),s("li",[t._v("v-leave-active")]),t._v(" "),s("li",[t._v("v-leave-to")])]),t._v(" "),s("p",[t._v("具体过程：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("v-enter：")]),t._v("定义进入过渡的开始状态。在元素被插入之前生效，在元素被插入之后的下一帧移除。")]),t._v(" "),s("li",[s("code",[t._v("v-enter-active：")]),t._v("定义进入过渡生效时的状态。在整个进入过渡的阶段中应用，在元素被插入之前生效，在过渡/动画完成之后移除。这个类中可以使用"),s("code",[t._v("transition / animation")]),t._v("属性定义进入进入过渡的过程时间，延迟和曲线函数。")]),t._v(" "),s("li",[s("code",[t._v("v-enter-to:")]),t._v(" 2.1.8版及以上 定义进入过渡的结束状态。在元素被插入之后下一帧生效 (与此同时 v-enter 被移除)，在过渡/动画完成之后移除。")]),t._v(" "),s("li",[t._v("v-leave: 定义离开过渡的开始状态。在离开过渡被触发时立刻生效，下一帧被移除")]),t._v(" "),s("li",[s("code",[t._v("v-leave-active：")]),t._v("定义离开过渡生效时的状态。在整个离开过渡的阶段中应用，在离开过渡被触发时立刻生效，在过渡/动画完成之后移除。这个类中可以使用"),s("code",[t._v("transition / animation")]),t._v("属性定义进入离开过渡的过程时间，延迟和曲线函数。")]),t._v(" "),s("li",[s("code",[t._v("v-leave-to:")]),t._v(" 2.1.8版及以上 定义离开过渡的结束状态。在离开过渡被触发之后下一帧生效 (与此同时 v-leave 被删除)，在过渡/动画完成之后移除。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(315),alt:"CSS过渡或动画的6个类钩子过程"}})]),t._v(" "),s("p",[t._v("上面的v代表"),s("code",[t._v("transition")]),t._v("组件的"),s("code",[t._v("name")]),t._v("的值。如"),s("code",[t._v('<transition name="my-transition">')]),t._v("，那么 v-enter 会替换为 my-transition-enter")]),t._v(" "),s("p",[s("strong",[t._v("自定义钩子类名，结合第三方动画库")]),t._v(" "),s("code",[t._v("transition")]),t._v("组件除了提供prop除了"),s("code",[t._v("name")]),t._v("，还有以下自定义钩子类名的属性：")]),t._v(" "),s("ul",[s("li",[t._v("enter-class")]),t._v(" "),s("li",[t._v("enter-active-class")]),t._v(" "),s("li",[t._v("enter-to-class (2.1.8+)\n================")]),t._v(" "),s("li",[t._v("leave-class")]),t._v(" "),s("li",[t._v("leave-active-class")]),t._v(" "),s("li",[t._v("leave-to-class (2.1.8+)")])]),t._v(" "),s("p",[s("strong",[t._v("补充CSS3属性"),s("code",[t._v("transition / animation")]),t._v("语法")])]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" property duration timing-function delay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 设置要使用过渡效果的 CSS 属性的名称。\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("transition-duration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 规定完成过渡效果需要多少秒或毫秒，必须设置，否则时长为 0，就不会产生过渡效果。\ntransition-timing-function：规定速度效果的速度曲线，值可以为：linear/ease/ease-in/ease-out/ease-in-out/"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cubic-bezier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("。\ntransition-delay：定义过渡效果何时开始。\n")])])]),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name duration timing-function delay iteration-count direction"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 规定需要绑定到选择器的 keyframe 名称。\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-duration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" s/ms 规定完成动画所花费的时间，以秒或毫秒计"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("默认0。\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-timing-function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \t规定动画的速度曲线"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("值可以为：linear/ease/ease-in/ease-out/ease-in-out/"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cubic-bezier")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("，默认ease。\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-delay")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" s/ms 规定在动画开始之前的延迟，默认0。\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-iteration-count")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" n / infinite 规定动画应该播放的次数，默认1。\n"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("animation-direction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" normal / alternate 规定是否需要轮流反向播放动画，默认normal。\n\n"),s("span",{pre:!0,attrs:{class:"token atrule"}},[s("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@keyframes")]),t._v(" animationname")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("keyframes-selector")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("css-styles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v("animationname: 动画名称\nkeyframes-selector： 动画时长的百分比，可以是0-100% 或from（与 0% 相同）和to（与 100% 相同）\ncss-styles： 一个或多个合法的 CSS 样式属性。如")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("top")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("red"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("100px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[s("strong",[t._v("js过渡事件钩子")]),t._v("\n事件名：")]),t._v(" "),s("ul",[s("li",[t._v("before-enter")]),t._v(" "),s("li",[t._v("enter")]),t._v(" "),s("li",[t._v("after-enter")]),t._v(" "),s("li",[t._v("enter-cancelled\n=================")]),t._v(" "),s("li",[t._v("before-leave")]),t._v(" "),s("li",[t._v("leave")]),t._v(" "),s("li",[t._v("after-leave")]),t._v(" "),s("li",[t._v("leave-cancelled")])]),t._v(" "),s("p",[t._v("每个事件处理函数都有参数el,其中enter / leave处理函数还有参数done，它是一个函数参数。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("methods"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --------")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 进入中")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --------")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("beforeEnter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当与 CSS 结合使用时")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回调函数 done 是可选的")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("enter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("afterEnter")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("enterCancelled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --------")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 离开时")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// --------")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("beforeLeave")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当与 CSS 结合使用时")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回调函数 done 是可选的")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("leave")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("done")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("afterLeave")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// leaveCancelled 只用于 v-show 中")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("leaveCancelled")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*do something*/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("当需要在js事件钩子中定义元素过渡的css属性，但又避免style中定义css的影响，可以绑定"),s("code",[t._v("v-bind:css='false'")]),t._v("，指明忽略style中CSS的应用。")]),t._v(" "),s("h3",{attrs:{id:"过渡-动画在各种不同情形下的实现"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#过渡-动画在各种不同情形下的实现","aria-hidden":"true"}},[t._v("#")]),t._v(" 过渡/动画在各种不同情形下的实现")]),t._v(" "),s("p",[s("strong",[t._v("初始渲染 appear")]),t._v("\n当对元素初始渲染时应用过渡或动画，可以使用单独提供的特性appear")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// css类\n<transition appear>\x3c!-- ... --\x3e</transition>\n.appear\n.appear-active\n.appear-to\n\n// 自定义类名\n<transition\n  appear\n  appear-class="custom-appear-class"\n  appear-to-class="custom-appear-to-class" (2.1.8+)\n  appear-active-class="custom-appear-active-class"\n>\n  \x3c!-- ... --\x3e\n</transition>\n\n// js事件钩子\n<transition\n  appear\n  v-on:before-appear="customBeforeAppearHook"\n  v-on:appear="customAppearHook"\n  v-on:after-appear="customAfterAppearHook"\n  v-on:appear-cancelled="customAppearCancelledHook"\n>\n  \x3c!-- ... --\x3e\n</transition>\n')])])]),s("p",[s("strong",[t._v("单个元素/单个组件的（v-if / v-show)")])]),t._v(" "),s("ul",[s("li",[t._v("使用基本"),s("code",[t._v("<transition>")]),t._v("的css类或js事件的方式即可")])]),t._v(" "),s("p",[s("strong",[t._v("多个元素时切换时（同一时间渲染多个节点中的一个）")])]),t._v(" "),s("ul",[s("li",[t._v("相同标签元素的切换，设置"),s("code",[t._v("key")])]),t._v(" "),s("li",[t._v("为避免A元素的离开和B元素的进入同时发生，设置过渡模式"),s("code",[t._v("mode='in-out / out-in'")])])]),t._v(" "),s("p",[s("strong",[t._v("多个组件切换时（同一时间渲染多个节点中的一个）")])]),t._v(" "),s("ul",[s("li",[t._v("尽量使用动态组件"),s("code",[t._v('<component is="">')]),t._v("写法")]),t._v(" "),s("li",[t._v("仍然要设置过渡模式"),s("code",[t._v('mode="out-in / in-out"')])])]),t._v(" "),s("p",[s("strong",[t._v("列表的过渡（同一时间渲染多个节点）")]),t._v("\n使用"),s("code",[t._v('<transition-group name="" tag="">')])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("<transition>")]),t._v("同"),s("code",[t._v("<template>")]),t._v("一样并不会渲染实际元素，但是"),s("code",[t._v("<transition-group>")]),t._v("会渲染成一个真实的DOM元素。所以可以用tag标签指定渲染成某类元素。缺少默认为span元素。")]),t._v(" "),s("li",[t._v("内部元素必须指定唯一的key")]),t._v(" "),s("li",[t._v("过渡模式mode特性不可用。")])]),t._v(" "),s("h2",{attrs:{id:"复用过渡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#复用过渡","aria-hidden":"true"}},[t._v("#")]),t._v(" 复用过渡")]),t._v(" "),s("p",[t._v("就是说将用transition包裹实现了过渡效果的组件，再重新定义成一个组件，以"),s("code",[t._v("<transition>或<transition-group>")]),t._v("为根组件即可。")]),t._v(" "),s("h3",{attrs:{id:"状态过渡动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#状态过渡动画","aria-hidden":"true"}},[t._v("#")]),t._v(" 状态过渡动画")]),t._v(" "),s("p",[t._v("对可以以数值形式存储，或者可以转换为数值的数据，结合 Vue 的响应式和组件系统"),s("code",[t._v("watch / computed")]),t._v("，结合第三方库来实现切换元素的过渡动画。\n这类数据包括：")]),t._v(" "),s("ul",[s("li",[t._v("数字和运算")]),t._v(" "),s("li",[t._v("颜色的显示")]),t._v(" "),s("li",[t._v("SVG 节点的位置")]),t._v(" "),s("li",[t._v("元素的大小和其他的属性")])]),t._v(" "),s("p",[s("strong",[t._v("使用watch监听器和第三个方动画插件结合")]),t._v("\n比如数字类动画插件"),s("code",[t._v("TweenMax")]),t._v("\n颜色"),s("code",[t._v("Color.js")]),t._v("结合补间动画"),s("code",[t._v("Tween.js")])])])}),[],!1,null,null,null);a.default=e.exports}}]);